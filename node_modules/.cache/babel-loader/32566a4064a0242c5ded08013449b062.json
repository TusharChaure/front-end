{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\chaur\\\\Desktop\\\\homechef-mern-new\\\\homechef\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\chaur\\\\Desktop\\\\homechef-mern-new\\\\homechef\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\chaur\\\\Desktop\\\\homechef-mern-new\\\\homechef\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\chaur\\\\Desktop\\\\homechef-mern-new\\\\homechef\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\chaur\\\\Desktop\\\\homechef-mern-new\\\\homechef\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\chaur\\\\Desktop\\\\homechef-mern-new\\\\homechef\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from'axios';import{Button,Form,FormGroup,Label,Jumbotron,Input}from'reactstrap';import{ToastContainer,toast}from'react-toastify';import Adminlist5 from'./Adminlist5';var Updatecoupon=/*#__PURE__*/function(_Component){_inherits(Updatecoupon,_Component);var _super=_createSuper(Updatecoupon);function Updatecoupon(){var _this;_classCallCheck(this,Updatecoupon);_this=_super.call(this);_this.state={items:[],promo:'',price:''};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Updatecoupon,[{key:\"onChange\",value:function onChange(e){this.setState(_defineProperty({},e.target.name,e.target.value));}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('http://165.22.208.232:5000/admin/getcoupons',// axios.get('admin/findall',\n{headers:{'auth-token':localStorage.usertoken}}).then(function(res){console.log(res);_this2.setState({items:res.data.data});});}},{key:\"onSubmit\",value:function onSubmit(e){e.preventDefault();console.log(\"clicked\");axios.put('http://165.22.208.232:5000/admin/updatecoupon',{\"couponcode\":this.state.promo,\"price\":this.state.price},{headers:{'auth-token':localStorage.usertoken}}).then(function(res){if(res.data.status==true){// alert(res.data.data)\ntoast(res.data.data,{position:toast.POSITION.TOP_CENTER,autoClose:1000});}else{//  alert(res.data.error)\ntoast(res.data.error,{position:toast.POSITION.TOP_CENTER,autoClose:1000});}}).catch(function(err){console.log(\"err\");});}},{key:\"render\",value:function render(){var arr=this.state.items.map(function(item,index){return/*#__PURE__*/React.createElement(Adminlist5,{code:item.couponcode,price:item.price,off:item.off});});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"main-footer\",style:{marginTop:'0%',height:'auto',width:'auto'}},/*#__PURE__*/React.createElement(\"div\",{className:\"container\",style:{height:'auto',width:'auto'}},/*#__PURE__*/React.createElement(\"div\",{className:\"row\",style:{height:'auto',width:'auto'}},arr))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{style:{marginRight:'10%',marginLeft:'10%',marginTop:'3%',border:'solid',borderRadius:'10px',padding:'5% 10%'}},/*#__PURE__*/React.createElement(\"b\",null,\" Update Coupons :\"),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Form,{style:{marginTop:'3%'},onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Promo Code\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"promo\",value:this.state.promo,onChange:this.onChange,required:true,placeholder:\"Promo code\"})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Price\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"price\",value:this.state.price,onChange:this.onChange,required:true,placeholder:\"Price\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center mt-3 login_container\"},/*#__PURE__*/React.createElement(Button,{style:{background:'#779A25',borderColor:'#779A25'},type:\"submit\",className:\"btn btn-primary\"},\"Submit\")))));}}]);return Updatecoupon;}(Component);export default Updatecoupon;","map":{"version":3,"sources":["C:/Users/chaur/Desktop/homechef-mern-new/homechef/front-end/src/Updatecoupon.js"],"names":["React","Component","axios","Button","Form","FormGroup","Label","Jumbotron","Input","ToastContainer","toast","Adminlist5","Updatecoupon","state","items","promo","price","onChange","bind","onSubmit","e","setState","target","name","value","get","headers","localStorage","usertoken","then","res","console","log","data","preventDefault","put","status","position","POSITION","TOP_CENTER","autoClose","error","catch","err","arr","map","item","index","couponcode","off","marginTop","height","width","marginRight","marginLeft","border","borderRadius","padding","background","borderColor"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from 'axios'\r\nimport { Button, Form, FormGroup, Label, Jumbotron, Input} from 'reactstrap';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport Adminlist5 from './Adminlist5'\r\n\r\nclass Updatecoupon extends Component {\r\n\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      items: [],\r\n      promo: '',\r\n      price: '',\r\n    } \r\n    this.onChange = this.onChange.bind(this)\r\n    this.onSubmit = this.onSubmit.bind(this)\r\n  }\r\n\r\n  onChange(e){\r\n    this.setState({[e.target.name]: e.target.value})\r\n  }\r\n\r\n  componentDidMount() {\r\n        \r\n    axios.get('http://165.22.208.232:5000/admin/getcoupons',\r\n    // axios.get('admin/findall',\r\n    {\r\n        headers: {\r\n          'auth-token': localStorage.usertoken\r\n        }},\r\n    )\r\n     .then(res => {\r\n         console.log(res)\r\n         this.setState({items: res.data.data})\r\n     })\r\n}\r\n\r\n  onSubmit(e){\r\n    e.preventDefault()\r\n    console.log(\"clicked\");\r\n        axios.put('http://165.22.208.232:5000/admin/updatecoupon',\r\n         {\r\n            \"couponcode\": this.state.promo,\r\n            \"price\": this.state.price,\r\n         },\r\n         {\r\n             headers: {\r\n               'auth-token': localStorage.usertoken\r\n             }},\r\n             )\r\n             .then(res => {\r\n                 if(res.data.status==true){\r\n                    // alert(res.data.data)\r\n                    toast(res.data.data, {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\r\n                 }\r\n                 else{\r\n                    //  alert(res.data.error)\r\n                    toast(res.data.error, {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\r\n                 }\r\n             })\r\n             .catch(err => {\r\n                 console.log(\"err\")\r\n             })\r\n  }\r\n\r\n  \r\n\r\n  render(){\r\n\r\n    const arr = this.state.items.map( (item, index) => {\r\n\t\r\n        return <Adminlist5 \r\n                 code={item.couponcode}\r\n                 price={item.price}\r\n                 off={item.off}\t\r\n            />\r\n    \r\n    } )\r\n\r\n    return(\r\n\r\n      <div>\r\n        \r\n        <div className=\"main-footer\" style={{ marginTop:'0%', height:'auto', width:'auto' }}>\r\n            <div className=\"container\" style={{ height:'auto', width:'auto' }}>\r\n                <div className=\"row\" style={{ height:'auto', width:'auto'}}>\r\n                   {arr} \r\n                </div> \r\n            </div>\r\n        </div>\r\n        <hr/>\r\n\r\n        <div style={{marginRight:'10%', marginLeft:'10%', marginTop:'3%', border:'solid', borderRadius:'10px', padding:'5% 10%'}}>\r\n                    \r\n            <b> Update Coupons :</b> <br/>\r\n\r\n            <Form style={{marginTop:'3%'}} onSubmit={this.onSubmit}>\r\n\r\n            <FormGroup>\r\n\r\n            <Label >Promo Code</Label>\r\n            \r\n            <Input type=\"text\" name=\"promo\" value={this.state.promo} onChange={this.onChange} required placeholder=\"Promo code\" />\r\n            \r\n            </FormGroup>\r\n\r\n            <FormGroup>\r\n\r\n            <Label >Price</Label>\r\n            \r\n            <Input type=\"text\" name=\"price\" value={this.state.price} onChange={this.onChange} required placeholder=\"Price\" />\r\n            \r\n            </FormGroup>\r\n\r\n            <div className=\"d-flex justify-content-center mt-3 login_container\">\r\n            \r\n            <Button style={{ background:'#779A25', borderColor:'#779A25'}} type=\"submit\" className=\"btn btn-primary\">Submit</Button>\r\n            \r\n            </div>\r\n            \r\n            </Form>\r\n            </div>\r\n            </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Updatecoupon\r\n"]},"metadata":{},"sourceType":"module"}