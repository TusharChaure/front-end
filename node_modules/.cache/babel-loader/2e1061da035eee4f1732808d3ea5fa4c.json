{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\chaur\\\\Desktop\\\\homechef-mern-new\\\\homechef\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\chaur\\\\Desktop\\\\homechef-mern-new\\\\homechef\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\chaur\\\\Desktop\\\\homechef-mern-new\\\\homechef\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\chaur\\\\Desktop\\\\homechef-mern-new\\\\homechef\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\chaur\\\\Desktop\\\\homechef-mern-new\\\\homechef\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Bar,Line}from'react-chartjs-2';import{CSVLink}from\"react-csv\";import axios from'axios';import{ToastContainer,toast}from'react-toastify';var AnalyticsCharts=/*#__PURE__*/function(_Component){_inherits(AnalyticsCharts,_Component);var _super=_createSuper(AnalyticsCharts);function AnalyticsCharts(props){var _this;_classCallCheck(this,AnalyticsCharts);_this=_super.call(this,props);_this.state={status:\"true\",incomeExpense:[],profitloss:[],chartData1:{labels:[],datasets:[{label:'income',data:[],backgroundColor:['rgba(255,99,132,0.6)','rgba(255,99,132,0.6)','rgba(255,99,132,0.6)','rgba(255,99,132,0.6)','rgba(255,99,132,0.6)']},{label:'expense',data:[],backgroundColor:['rgba(54,152,235,0.6)','rgba(54,152,235,0.6)','rgba(54,152,235,0.6)','rgba(54,152,235,0.6)','rgba(54,152,235,0.6)']}]},chartData2:{labels:[],datasets:[{label:'Profit',data:[],backgroundColor:['rgba(255,99,132,0.6)','rgba(255,99,132,0.6)','rgba(255,99,132,0.6)','rgba(255,99,132,0.6)','rgba(255,99,132,0.6)']},{label:'Loss',data:[],backgroundColor:['rgba(54,152,235,0.6)','rgba(54,152,235,0.6)','rgba(54,152,235,0.6)','rgba(54,152,235,0.6)','rgba(54,152,235,0.6)']}]}};return _this;}_createClass(AnalyticsCharts,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('http://165.22.208.232:5000/homechef/profile',{// axios.get('homechef/profile', {\nheaders:{'auth-token':localStorage.usertoken}}).then(function(res){console.log(res);if(res.data.status==true){axios.get('http://165.22.208.232:5000/homechef/financial',{// axios.get('homechef/financial', {\nheaders:{'auth-token':localStorage.usertoken}}).then(function(res){var array=res.data.income;var arrayExpense=res.data.expense;var data,pldata;var income=[],months=[],incomes=[],expense=[];var profits=[],loss=[],pl=[];for(var index=0;index<array.length;index++){console.log(array[index][0]);for(var index1=0;index1<arrayExpense.length;index1++){if(array[index][0].month==arrayExpense[index1][0].month){data={monthN:array[index][0].month,incomeN:array[index][0].amount,expenseN:arrayExpense[index1][0].amount};expense.push(arrayExpense[index1][0].amount);months.push(array[index][0].month);incomes.push(array[index][0].amount);if(data.expenseN>data.incomeN){loss.push(data.expenseN-data.incomeN);profits.push(0);pldata={month:data.monthN,profilt:0,loss:data.expenseN-data.incomeN};pl.push(pldata);}else{loss.push(0);profits.push(data.incomeN-data.expenseN);pldata={month:data.monthN,profilt:data.incomeN-data.expenseN,loss:0};pl.push(pldata);}income.push(data);}}}console.log(profits);console.log(loss);_this2.setState({chartData1:{labels:months,datasets:[{label:'income',data:incomes,backgroundColor:['rgba(255,99,132,0.6)','rgba(255,99,132,0.6)','rgba(255,99,132,0.6)','rgba(255,99,132,0.6)','rgba(255,99,132,0.6)']},{label:'expense',data:expense,backgroundColor:['rgba(54,152,235,0.6)','rgba(54,152,235,0.6)','rgba(54,152,235,0.6)','rgba(54,152,235,0.6)','rgba(54,152,235,0.6)']}]}});_this2.setState({chartData2:{labels:months,datasets:[{label:'Profit',data:profits,backgroundColor:['rgba(255,99,132,0.6)','rgba(255,99,132,0.6)','rgba(255,99,132,0.6)','rgba(255,99,132,0.6)','rgba(255,99,132,0.6)']},{label:'Loss',data:loss,backgroundColor:['rgba(54,152,235,0.6)','rgba(54,152,235,0.6)','rgba(54,152,235,0.6)','rgba(54,152,235,0.6)','rgba(54,152,235,0.6)']}]}});_this2.setState({profitloss:pl});_this2.setState({incomeExpense:income});}).catch(function(err){toast(err,{position:toast.POSITION.TOP_CENTER,autoClose:1000});});}else if(res.data.status==false){// alert(res.data.error)\ntoast(res.data.error,{position:toast.POSITION.TOP_CENTER,autoClose:1000});}}).catch(function(error){// alert(\"login first\");\ntoast(\"Login First!!\",{position:toast.POSITION.TOP_CENTER,autoClose:1000});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Bar,{data:this.state.chartData1,options:{responsive:true,title:{display:this.props.displayTitle,text:'Income and Expense',fontSize:20},legend:{display:true,position:'right',labels:{fontColor:'#000'}},layout:{padding:{left:50,right:0,bottom:0,top:0}},scales:{yAxes:[{ticks:{beginAtZero:true}}]},tooltips:{enabled:true}}}),/*#__PURE__*/React.createElement(Line,{data:this.state.chartData2,options:{responsive:true,title:{display:this.props.displayTitle,text:'Profit and Loss',fontSize:20},legend:{display:true,position:'right',labels:{fontColor:'#000'}},layout:{padding:{left:50,right:0,bottom:0,top:0}},tooltips:{enabled:true}}}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CSVLink,_defineProperty({data:this.state.incomeExpense,filename:\"IncomeExpense.csv\",className:\"btn btn-primary\",style:{margin:'1%'}},\"style\",{background:'#779A25',borderColor:'#779A25',marginRight:'2%'}),\"Income and expense excel download\"),/*#__PURE__*/React.createElement(CSVLink,{data:this.state.profitloss,filename:\"ProfitLoss.csv\",className:\"btn btn-primary\",style:{background:'#779A25',borderColor:'#779A25',marginRight:'2%'}},\"Profit Loss Excel Document\")),/*#__PURE__*/React.createElement(ToastContainer,null));}}]);return AnalyticsCharts;}(Component);AnalyticsCharts.defaultProps={displayTitle:true,displayLegend:true,legendPosition:'right'};export{AnalyticsCharts as default};","map":{"version":3,"sources":["C:/Users/chaur/Desktop/homechef-mern-new/homechef/front-end/src/FinancialCharts.js"],"names":["React","Component","Bar","Line","CSVLink","axios","ToastContainer","toast","AnalyticsCharts","props","state","status","incomeExpense","profitloss","chartData1","labels","datasets","label","data","backgroundColor","chartData2","get","headers","localStorage","usertoken","then","res","console","log","array","income","arrayExpense","expense","pldata","months","incomes","profits","loss","pl","index","length","index1","month","monthN","incomeN","amount","expenseN","push","profilt","setState","catch","err","position","POSITION","TOP_CENTER","autoClose","error","responsive","title","display","displayTitle","text","fontSize","legend","fontColor","layout","padding","left","right","bottom","top","scales","yAxes","ticks","beginAtZero","tooltips","enabled","margin","background","borderColor","marginRight","defaultProps","displayLegend","legendPosition"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Bar, Line} from 'react-chartjs-2';\r\nimport { CSVLink } from \"react-csv\";\r\nimport axios from 'axios'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\n\r\nexport default class AnalyticsCharts extends Component {\r\n\r\nconstructor(props){\r\n    super(props);\r\n    this.state={\r\n        status: \"true\",\r\n        incomeExpense : [\r\n            \r\n        ],\r\n        \r\n        profitloss : [\r\n           \r\n        ],\r\n       \r\n        chartData1:{\r\n            labels:[],\r\n            datasets:[{\r\n                label:'income',\r\n                data:[ ],\r\n                backgroundColor: [\r\n                    'rgba(255,99,132,0.6)',\r\n                    'rgba(255,99,132,0.6)',\r\n                    'rgba(255,99,132,0.6)',\r\n                    'rgba(255,99,132,0.6)',\r\n                    'rgba(255,99,132,0.6)'\r\n                    \r\n                ]\r\n            },{\r\n                label:'expense',\r\n                data:[],\r\n                backgroundColor: [\r\n                    \r\n                    'rgba(54,152,235,0.6)',\r\n                    'rgba(54,152,235,0.6)',\r\n                    'rgba(54,152,235,0.6)',\r\n                    'rgba(54,152,235,0.6)',\r\n                    'rgba(54,152,235,0.6)'\r\n                    \r\n                ]\r\n            }]\r\n        },\r\n        chartData2:{\r\n            labels:[],\r\n            datasets:[{\r\n                label:'Profit',\r\n                data:[],\r\n                backgroundColor: [\r\n                    'rgba(255,99,132,0.6)',\r\n                    'rgba(255,99,132,0.6)',\r\n                    'rgba(255,99,132,0.6)',\r\n                    'rgba(255,99,132,0.6)',\r\n                    'rgba(255,99,132,0.6)'\r\n                    \r\n                ]\r\n            },{\r\n                label:'Loss',\r\n                data:[],\r\n                backgroundColor: [\r\n                    \r\n                    'rgba(54,152,235,0.6)',\r\n                    'rgba(54,152,235,0.6)',\r\n                    'rgba(54,152,235,0.6)',\r\n                    'rgba(54,152,235,0.6)',\r\n                    'rgba(54,152,235,0.6)'\r\n                    \r\n                ]\r\n            }]\r\n        }\r\n    }\r\n\r\n}\r\ncomponentDidMount() {\r\n    \r\n    axios.get('http://165.22.208.232:5000/homechef/profile', {\r\n    // axios.get('homechef/profile', {\r\n      headers: {\r\n        'auth-token': localStorage.usertoken\r\n      }})\r\n   .then(res => {\r\n       console.log(res)\r\n       if(res.data.status==true){\r\n        axios.get('http://165.22.208.232:5000/homechef/financial', {\r\n        // axios.get('homechef/financial', {\r\n            headers: {\r\n                'auth-token': localStorage.usertoken\r\n            }}).then(res=>{\r\n                let array=res.data.income;\r\n                let arrayExpense=res.data.expense;\r\n                let data,pldata;\r\n                let income=[],months=[],incomes=[],expense=[];\r\n                let profits=[],loss=[],pl=[];\r\n                for (let index = 0; index < array.length; index++) {\r\n                    console.log(array[index][0])\r\n                    for (let index1 = 0; index1 < arrayExpense.length; index1++) {\r\n                        if(array[index][0].month==arrayExpense[index1][0].month){\r\n                            data ={\r\n                                monthN:array[index][0].month,\r\n                                incomeN:array[index][0].amount,\r\n                                expenseN:arrayExpense[index1][0].amount\r\n                            }\r\n                            expense.push(arrayExpense[index1][0].amount)           \r\n                            months.push(array[index][0].month)\r\n                            incomes.push(array[index][0].amount)\r\n                            if(data.expenseN>data.incomeN){\r\n                                loss.push(data.expenseN-data.incomeN);\r\n                                profits.push(0);\r\n                                pldata={\r\n                                   month:data.monthN,\r\n                                   profilt:0,\r\n                                   loss: data.expenseN-data.incomeN,\r\n                                }\r\n                                pl.push(pldata);\r\n                            }else{\r\n                                    loss.push(0);\r\n                                    profits.push(data.incomeN-data.expenseN);\r\n                                    pldata={\r\n                                       month:data.monthN,\r\n                                       profilt:data.incomeN-data.expenseN,\r\n                                       loss: 0,\r\n                                    }\r\n                                    pl.push(pldata);\r\n                            }\r\n                            income.push(data);  \r\n                        }\r\n                     }   \r\n                }\r\n               console.log(profits)\r\n               console.log(loss)\r\n\r\n                this.setState( {\r\n                    chartData1:{\r\n                    labels:months,\r\n                    datasets:[{\r\n                        label:'income',\r\n                        data:incomes,\r\n                        backgroundColor: [\r\n                            'rgba(255,99,132,0.6)',\r\n                            'rgba(255,99,132,0.6)',\r\n                            'rgba(255,99,132,0.6)',\r\n                            'rgba(255,99,132,0.6)',\r\n                            'rgba(255,99,132,0.6)'\r\n                            \r\n                        ]\r\n                    },{\r\n                        label:'expense',\r\n                        data:expense,\r\n                        backgroundColor: [\r\n                            \r\n                            'rgba(54,152,235,0.6)',\r\n                            'rgba(54,152,235,0.6)',\r\n                            'rgba(54,152,235,0.6)',\r\n                            'rgba(54,152,235,0.6)',\r\n                            'rgba(54,152,235,0.6)'\r\n                            \r\n                        ]\r\n                    }]\r\n                }\r\n            });\r\n            this.setState({\r\n                chartData2:{\r\n                    labels:months,\r\n                    datasets:[{\r\n                        label:'Profit',\r\n                        data:profits,\r\n                        backgroundColor: [\r\n                            'rgba(255,99,132,0.6)',\r\n                            'rgba(255,99,132,0.6)',\r\n                            'rgba(255,99,132,0.6)',\r\n                            'rgba(255,99,132,0.6)',\r\n                            'rgba(255,99,132,0.6)'\r\n                            \r\n                        ]\r\n                    },{\r\n                        label:'Loss',\r\n                        data:loss,\r\n                        backgroundColor: [\r\n                            \r\n                            'rgba(54,152,235,0.6)',\r\n                            'rgba(54,152,235,0.6)',\r\n                            'rgba(54,152,235,0.6)',\r\n                            'rgba(54,152,235,0.6)',\r\n                            'rgba(54,152,235,0.6)'\r\n                            \r\n                        ]\r\n                    }]\r\n                }\r\n            });\r\n            this.setState({profitloss:pl});\r\n\r\n                this.setState({incomeExpense:income});\r\n            }).catch((err)=>{\r\n                toast(err, {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\r\n            })\r\n      }\r\n      else if(res.data.status==false){\r\n          // alert(res.data.error)\r\n          toast(res.data.error, {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\r\n      } \r\n   }\r\n   )\r\n   .catch(error => {\r\n      // alert(\"login first\");\r\n     toast(\"Login First!!\", {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\r\n    })\r\n  }\r\n\r\nstatic defaultProps={\r\n    displayTitle:true,\r\n    displayLegend: true,\r\n    legendPosition: 'right'\r\n}\r\n\r\n  render() {\r\n    return ( \r\n      <div>\r\n        \r\n      <Bar\r\n      data={this.state.chartData1}\r\n      options={{\r\n          responsive:true,\r\n        title:{\r\n            display:this.props.displayTitle,\r\n            text:'Income and Expense',\r\n            fontSize:20\r\n      },\r\n    legend:{\r\n        display:true,\r\n        position: 'right',\r\n        labels:{\r\n            fontColor:'#000'\r\n        }\r\n    },\r\n    layout:{\r\n        padding:{\r\n            left:50,\r\n            right:0,\r\n            bottom:0,\r\n            top:0\r\n        }\r\n    }, \r\n    scales: {\r\n        yAxes: [{\r\n            ticks: {\r\n                beginAtZero: true\r\n            }\r\n        }]\r\n    },       \r\ntooltips:{\r\n    enabled: true\r\n}}}\r\n    />    \r\n\r\n    <Line\r\n          data={this.state.chartData2}\r\n          options={{\r\n            responsive:true,\r\n            title:{\r\n                display:this.props.displayTitle,\r\n                text:'Profit and Loss',\r\n                fontSize:20\r\n          },\r\n        legend:{\r\n            display:true,\r\n            position: 'right',\r\n            labels:{\r\n                fontColor:'#000'\r\n            }\r\n        },\r\n        layout:{\r\n            padding:{\r\n                left:50,\r\n                right:0,\r\n                bottom:0,\r\n                top:0\r\n            }\r\n        },        \r\n    tooltips:{\r\n        enabled: true\r\n    }}}\r\n        />\r\n        <div>           \r\n        <CSVLink data={this.state.incomeExpense}\r\n        filename={\"IncomeExpense.csv\"}\r\n        className=\"btn btn-primary\"\r\n        style={{margin:'1%'}}\r\n        style={{ background:'#779A25', borderColor:'#779A25',marginRight:'2%'}}\r\n        >\r\n        Income and expense excel download\r\n        </CSVLink>\r\n        <CSVLink data={this.state.profitloss}\r\n        filename={\"ProfitLoss.csv\"}\r\n        className=\"btn btn-primary\"\r\n        style={{ background:'#779A25', borderColor:'#779A25',marginRight:'2%'}}\r\n        >\r\n        Profit Loss Excel Document\r\n        </CSVLink>\r\n        </div>\r\n        <ToastContainer />\r\n       </div>\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}