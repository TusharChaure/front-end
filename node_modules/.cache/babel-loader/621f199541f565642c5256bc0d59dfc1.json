{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chaur\\\\Desktop\\\\homechef-mern-new\\\\homechef\\\\front-end\\\\src\\\\Cart.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Cartlist from './Cartlist';\nimport Cartlist1 from './Cartlist1';\nimport Table from 'react-bootstrap/Table';\nimport back1 from './UI/back1.PNG';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Popover from 'react-bootstrap/Popover';\nimport mp7 from './pics/indian/mp1.jpg';\nimport { Button, Form, FormGroup, Label, Jumbotron, Input } from 'reactstrap';\n\nclass Cart extends Component {\n  constructor() {\n    super();\n    this.state = {\n      coupon: [],\n      code: ''\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault(); //     console.log(localStorage.amount)\n    //     // if(localStorage.amount>100){\n    //     // localStorage.amount = localStorage.amount - localStorage.amount*(25/100)\n    //     // console.log(localStorage.amount)\n    //     // toast(\"Promo code applied\", {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\n    //     // }\n    //     // else{\n    //     //     toast(\"Try another promo code!!\", {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\n    //     // }\n\n    console.log(this.state.code);\n\n    for (let i = 0; i < this.state.coupon.length; i++) {\n      if (this.state.coupon[i].couponcode == this.state.code) {\n        localStorage.amount = localStorage.amount - localStorage.amount * (this / 100);\n      }\n    }\n  }\n\n  handleClick() {\n    console.log('Button click ...');\n    localStorage.removeItem(\"items\");\n    localStorage.removeItem(\"category\");\n    localStorage.removeItem(\"total\");\n    localStorage.removeItem(\"amount\");\n    window.location.reload(1000);\n  }\n\n  componentDidMount() {\n    console.log(localStorage.amount);\n    axios.post('http://localhost:5000/users/getcoupons', {\n      \"price\": localStorage.amount\n    }, {\n      headers: {\n        'auth-token': localStorage.usertoken\n      }\n    }).then(res => {\n      console.log(res.data);\n      this.setState({\n        coupon: res.data\n      });\n    }).catch(err => {\n      toast(err, {\n        position: toast.POSITION.TOP_CENTER,\n        autoClose: 1000\n      });\n    });\n  } //   handle1() {\n  //     console.log(localStorage.amount)\n  //     // if(localStorage.amount>100){\n  //     // localStorage.amount = localStorage.amount - localStorage.amount*(25/100)\n  //     // console.log(localStorage.amount)\n  //     // toast(\"Promo code applied\", {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\n  //     // }\n  //     // else{\n  //     //     toast(\"Try another promo code!!\", {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\n  //     // }\n  //     // for( const i=0; i<this.state.coupon.length; i++){\n  //     // }\n  //     console.log(this.state.code)\n  //     }\n\n\n  handle() {\n    console.log(\"clicked\");\n    axios.post('http://localhost:5000/order/add', //  axios.post('order/add',\n    {\n      \"catogary\": localStorage.category,\n      \"subcatogary\": localStorage.subcategory,\n      \"product\": JSON.parse(localStorage.getItem('items')),\n      \"paymentType\": \"cash\",\n      \"totalCost\": localStorage.amount\n    }, {\n      headers: {\n        'auth-token': localStorage.usertoken\n      }\n    }).then(res => {\n      if (res.data.status == true) {\n        toast(res.data.data, {\n          position: toast.POSITION.TOP_CENTER\n        });\n        var interval = setInterval(function () {\n          console.log(res.data.redirect);\n          axios.get(res.data.redirect).then(res => {\n            if (res.data.status == true) {\n              clearInterval(interval);\n              console.log(res.data.data);\n            }\n          }).catch(err => {\n            console.log(\"err\");\n          });\n        }, 30000);\n      } else {\n        toast(res.data.error, {\n          position: toast.POSITION.TOP_CENTER,\n          autoClose: 1000\n        });\n      }\n    }).catch(err => {\n      toast(\"Login First!!\", {\n        position: toast.POSITION.TOP_CENTER,\n        autoClose: 1000\n      });\n    });\n  }\n\n  render() {\n    toast.configure();\n    let arr;\n\n    if (localStorage.getItem('items') == undefined) {// alert('cart is empty!!');\n      // toast(\"Cart is empty!!\", {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\n    } else {\n      arr = JSON.parse(localStorage.getItem('items')).map((item, i) => {\n        return /*#__PURE__*/React.createElement(Cartlist, {\n          id: item.itemid,\n          cat: item.quantity,\n          price: item.totalprice,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 24\n          }\n        });\n      });\n    }\n\n    const ar = this.state.coupon.map((it, index) => {\n      return /*#__PURE__*/React.createElement(Cartlist1, {\n        couponcode: it.couponcode,\n        price: it.price,\n        off: it.off,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 20\n        }\n      });\n    });\n    const popover = /*#__PURE__*/React.createElement(Popover, {\n      id: \"popover-basic\",\n      size: \"md\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Popover.Title, {\n      as: \"h3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 15\n      }\n    }, \"Available Offers\"), /*#__PURE__*/React.createElement(Popover.Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 29\n      }\n    }, \"Code\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 29\n      }\n    }, \"Price\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 29\n      }\n    }, \"Off\"))))), ar)));\n    return (\n      /*#__PURE__*/\n      // <div className=\"re\" style={{border:'solid',borderColor:'white'}}>\n      //  <div style={{marginLeft:'0.5%', marginTop:'1%',marginRight:'0.5%',marginBottom:'15%'}}>\n      //  <div style={{border:'solid', borderRadius:'10px',marginLeft:'0.5%',marginRight:'0.5%', backgroundColor:'white'}}>\n      //     <Table >\n      //          <thead>\n      //              <tr style={{width:'90%'}}>\n      //              <th style={{width:'30%',textAlign:'center'}}>Item</th>\n      //              <th style={{width:'30%',textAlign:'center'}}>quantity</th>\n      //              <th style={{width:'30%',textAlign:'center'}}>Price</th>\n      //              </tr>\n      //          </thead>\n      //     </Table>\n      //     {arr}\n      //     <p style={{textAlign:'right', marginRight:'15%'}}><b>Total Amount : {localStorage.amount}</b></p> \n      //  </div>\n      //  <div style={{marginLeft:'5%',marginRight:'5%',marginTop:'3%', marginBottom:'18%'}}>\n      //  <p><button type=\"button\" className='btn btn-primary' onClick={this.handle} variant=\"secondary\" style={{float:'right', borderRadius:'10px'}}>Place Order</button> <button className='btn btn-primary' type=\"button\" onClick={this.handleClick} variant=\"secondary\" style={{float:'right', borderRadius:'10px', marginRight:'0.5%'}}>Remove</button> <OverlayTrigger trigger=\"click\" placement=\"left\" overlay={popover}><button type=\"button\" className='btn btn-primary'  variant=\"secondary\" style={{float:'right', borderRadius:'10px', marginRight:'0.5%'}}>Promo Code</button></OverlayTrigger></p>\n      //  </div>\n      //  </div>\n      //  </div>\n      React.createElement(\"div\", {\n        className: \"re\",\n        style: {\n          border: 'solid',\n          borderColor: 'white'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"hr\", {\n        style: {\n          border: 'solid',\n          borderWidth: '1px',\n          borderColor: '#9C9C9B'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"h5\", {\n        style: {\n          textAlign: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 9\n        }\n      }, \"Cart\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        style: {\n          marginLeft: '0.5%',\n          marginTop: '1%',\n          marginRight: '0.5%',\n          marginBottom: '15%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"item1 col-md-7 col-sm-14\",\n        style: {\n          border: 'solid',\n          margin: '2% 1%',\n          borderWidth: '1px',\n          borderColor: '#9C9C9B'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 9\n        }\n      }, arr), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"item1 col-md-4 col-sm-8\",\n        style: {\n          border: 'solid',\n          margin: '2% 1%',\n          borderWidth: '1px',\n          borderColor: '#9C9C9B'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          padding: '3%',\n          textAlign: 'left'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }\n      }, \"Order Summary\"), /*#__PURE__*/React.createElement(\"hr\", {\n        style: {\n          border: 'solid',\n          borderWidth: '0.5px',\n          borderColor: '#000'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Table, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        style: {\n          width: '90%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          width: '30%',\n          textAlign: 'left'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 21\n        }\n      }, \"Items\"), /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          width: '30%',\n          textAlign: 'left',\n          color: 'green'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 21\n        }\n      }, \"Rs.\", localStorage.amount)), /*#__PURE__*/React.createElement(\"tr\", {\n        style: {\n          width: '90%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          width: '30%',\n          textAlign: 'left'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 21\n        }\n      }, \"Shipping\"), /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          width: '30%',\n          textAlign: 'left',\n          color: 'green'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 21\n        }\n      }, \"Rs.0\")), /*#__PURE__*/React.createElement(\"tr\", {\n        style: {\n          width: '90%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          width: '30%',\n          textAlign: 'left'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 21\n        }\n      }, \"Promo Code\"), /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          width: '30%',\n          textAlign: 'left',\n          color: 'green'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        onSubmit: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 79\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"code\",\n        value: this.state.code,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 110\n        }\n      }), \" \", /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        variant: \"secondary\",\n        style: {\n          marginLeft: '0%',\n          background: '##779A25'\n        },\n        onClick: this.handle1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 193\n        }\n      }, \"Apply\")))), /*#__PURE__*/React.createElement(\"tr\", {\n        style: {\n          width: '90%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          width: '30%',\n          textAlign: 'left'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          width: '30%',\n          textAlign: 'left'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(OverlayTrigger, {\n        trigger: \"click\",\n        placement: \"left\",\n        overlay: popover,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 64\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary\",\n        variant: \"secondary\",\n        style: {\n          marginLeft: '0%',\n          background: '##779A25'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 131\n        }\n      }, \"Get\")), \" \", /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary\",\n        variant: \"secondary\",\n        style: {\n          marginLeft: '0%',\n          background: '##779A25'\n        },\n        onClick: this.handleClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 281\n        }\n      }, \"Remove\"))), /*#__PURE__*/React.createElement(\"tr\", {\n        style: {\n          width: '90%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          width: '30%',\n          textAlign: 'left'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 21\n        }\n      }, \"Total Amount\"), /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          width: '30%',\n          textAlign: 'left',\n          color: 'green'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 21\n        }\n      }, \"Rs.\", localStorage.amount)))), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary\",\n        onClick: this.handle,\n        style: {\n          background: '##779A25',\n          width: '80%',\n          margin: '1%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 21\n        }\n      }, \"Place Order\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        type: \"button\",\n        onClick: this.handleClick,\n        variant: \"secondary\",\n        style: {\n          background: '##779A25',\n          width: '80%',\n          margin: '2%',\n          marginBottom: '5%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 21\n        }\n      }, \"Remove\"))))\n    );\n  }\n\n}\n\nexport default Cart;","map":{"version":3,"sources":["C:/Users/chaur/Desktop/homechef-mern-new/homechef/front-end/src/Cart.js"],"names":["React","Component","axios","Cartlist","Cartlist1","Table","back1","ToastContainer","toast","OverlayTrigger","Popover","mp7","Button","Form","FormGroup","Label","Jumbotron","Input","Cart","constructor","state","coupon","code","onChange","bind","onSubmit","e","setState","target","name","value","preventDefault","console","log","i","length","couponcode","localStorage","amount","handleClick","removeItem","window","location","reload","componentDidMount","post","headers","usertoken","then","res","data","catch","err","position","POSITION","TOP_CENTER","autoClose","handle","category","subcategory","JSON","parse","getItem","status","interval","setInterval","redirect","get","clearInterval","error","render","configure","arr","undefined","map","item","itemid","quantity","totalprice","ar","it","index","price","off","popover","border","borderColor","borderWidth","textAlign","marginLeft","marginTop","marginRight","marginBottom","margin","padding","width","color","background","handle1"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,SAASC,cAAT,EAAyBC,KAAzB,QAAsC,gBAAtC;AACA,OAAO,uCAAP;AACA,OAAOC,cAAP,MAA2B,gCAA3B;AACA,OAAOC,OAAP,MAAoB,yBAApB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,SAAvB,EAAkCC,KAAlC,EAAyCC,SAAzC,EAAoDC,KAApD,QAAgE,YAAhE;;AAGA,MAAMC,IAAN,SAAmBjB,SAAnB,CAA6B;AAEzBkB,EAAAA,WAAW,GAAE;AACT;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,MAAM,EAAE,EADC;AAETC,MAAAA,IAAI,EAAC;AAFI,KAAb;AAIA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;AACH;;AAEAD,EAAAA,QAAQ,CAACG,CAAD,EAAG;AACR,SAAKC,QAAL,CAAc;AAAC,OAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AAA3B,KAAd;AACF;;AAEDL,EAAAA,QAAQ,CAACC,CAAD,EAAG;AACRA,IAAAA,CAAC,CAACK,cAAF,GADQ,CAGP;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACQC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWE,IAAvB;;AACA,SAAK,IAAIY,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAC,KAAKd,KAAL,CAAWC,MAAX,CAAkBc,MAAlC,EAA0CD,CAAC,EAA3C,EAA8C;AAC1C,UAAG,KAAKd,KAAL,CAAWC,MAAX,CAAkBa,CAAlB,EAAqBE,UAArB,IAAmC,KAAKhB,KAAL,CAAWE,IAAjD,EAAsD;AAClDe,QAAAA,YAAY,CAACC,MAAb,GAAsBD,YAAY,CAACC,MAAb,GAAsBD,YAAY,CAACC,MAAb,IAAqB,OAAK,GAA1B,CAA5C;AACH;AACJ;AAIP;;AAEDC,EAAAA,WAAW,GAAG;AACXP,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAI,IAAAA,YAAY,CAACG,UAAb,CAAwB,OAAxB;AACAH,IAAAA,YAAY,CAACG,UAAb,CAAwB,UAAxB;AACAH,IAAAA,YAAY,CAACG,UAAb,CAAwB,OAAxB;AACAH,IAAAA,YAAY,CAACG,UAAb,CAAwB,QAAxB;AACAC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClBZ,IAAAA,OAAO,CAACC,GAAR,CAAYI,YAAY,CAACC,MAAzB;AACApC,IAAAA,KAAK,CAAC2C,IAAN,CAAW,wCAAX,EACA;AACI,eAASR,YAAY,CAACC;AAD1B,KADA,EAIA;AACIQ,MAAAA,OAAO,EAAE;AACP,sBAAcT,YAAY,CAACU;AADpB;AADb,KAJA,EAUKC,IAVL,CAUUC,GAAG,IAAI;AACTjB,MAAAA,OAAO,CAACC,GAAR,CAAYgB,GAAG,CAACC,IAAhB;AACA,WAAKvB,QAAL,CAAc;AAACN,QAAAA,MAAM,EAAE4B,GAAG,CAACC;AAAb,OAAd;AACH,KAbL,EAcMC,KAdN,CAcYC,GAAG,IAAI;AACX5C,MAAAA,KAAK,CAAC4C,GAAD,EAAM;AAACC,QAAAA,QAAQ,EAAE7C,KAAK,CAAC8C,QAAN,CAAeC,UAA1B;AAAsCC,QAAAA,SAAS,EAAE;AAAjD,OAAN,CAAL;AACF,KAhBN;AAkBD,GApEsB,CAsEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;;;AAECC,EAAAA,MAAM,GAAG;AACNzB,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA/B,IAAAA,KAAK,CAAC2C,IAAN,CAAW,iCAAX,EACA;AACC;AACG,kBAAYR,YAAY,CAACqB,QAD5B;AAEG,qBAAerB,YAAY,CAACsB,WAF/B;AAGG,iBAAWC,IAAI,CAACC,KAAL,CAAWxB,YAAY,CAACyB,OAAb,CAAqB,OAArB,CAAX,CAHd;AAIG,qBAAe,MAJlB;AAKG,mBAAazB,YAAY,CAACC;AAL7B,KAFD,EASC;AACIQ,MAAAA,OAAO,EAAE;AACP,sBAAcT,YAAY,CAACU;AADpB;AADb,KATD,EAcMC,IAdN,CAcWC,GAAG,IAAI;AACT,UAAGA,GAAG,CAACC,IAAJ,CAASa,MAAT,IAAiB,IAApB,EAAyB;AACtBvD,QAAAA,KAAK,CAACyC,GAAG,CAACC,IAAJ,CAASA,IAAV,EAAgB;AAACG,UAAAA,QAAQ,EAAE7C,KAAK,CAAC8C,QAAN,CAAeC;AAA1B,SAAhB,CAAL;AACA,YAAIS,QAAQ,GAAGC,WAAW,CACtB,YACA;AACQjC,UAAAA,OAAO,CAACC,GAAR,CAAYgB,GAAG,CAACC,IAAJ,CAASgB,QAArB;AACAhE,UAAAA,KAAK,CAACiE,GAAN,CAAUlB,GAAG,CAACC,IAAJ,CAASgB,QAAnB,EACClB,IADD,CACMC,GAAG,IAAI;AACT,gBAAGA,GAAG,CAACC,IAAJ,CAASa,MAAT,IAAiB,IAApB,EAAyB;AACtBK,cAAAA,aAAa,CAACJ,QAAD,CAAb;AACAhC,cAAAA,OAAO,CAACC,GAAR,CAAYgB,GAAG,CAACC,IAAJ,CAASA,IAArB;AACF;AACJ,WAND,EAOCC,KAPD,CAOOC,GAAG,IAAI;AACVpB,YAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACH,WATD;AAUP,SAdqB,EAcnB,KAdmB,CAA1B;AAeF,OAjBD,MAkBI;AACDzB,QAAAA,KAAK,CAACyC,GAAG,CAACC,IAAJ,CAASmB,KAAV,EAAiB;AAAChB,UAAAA,QAAQ,EAAE7C,KAAK,CAAC8C,QAAN,CAAeC,UAA1B;AAAsCC,UAAAA,SAAS,EAAE;AAAjD,SAAjB,CAAL;AACF;AACJ,KApCN,EAqCML,KArCN,CAqCYC,GAAG,IAAI;AACX5C,MAAAA,KAAK,CAAC,eAAD,EAAkB;AAAC6C,QAAAA,QAAQ,EAAE7C,KAAK,CAAC8C,QAAN,CAAeC,UAA1B;AAAsCC,QAAAA,SAAS,EAAE;AAAjD,OAAlB,CAAL;AACF,KAvCN;AAwCA;;AAIHc,EAAAA,MAAM,GAAG;AACN9D,IAAAA,KAAK,CAAC+D,SAAN;AACA,QAAIC,GAAJ;;AACA,QAAGnC,YAAY,CAACyB,OAAb,CAAqB,OAArB,KAA+BW,SAAlC,EAA4C,CACxC;AACA;AACH,KAHD,MAKA;AACID,MAAAA,GAAG,GAAGZ,IAAI,CAACC,KAAL,CAAWxB,YAAY,CAACyB,OAAb,CAAqB,OAArB,CAAX,EAA0CY,GAA1C,CAA+C,CAACC,IAAD,EAAOzC,CAAP,KAAa;AAE9D,4BAAO,oBAAC,QAAD;AACE,UAAA,EAAE,EAAEyC,IAAI,CAACC,MADX;AAEE,UAAA,GAAG,EAAED,IAAI,CAACE,QAFZ;AAGE,UAAA,KAAK,EAAEF,IAAI,CAACG,UAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AAMH,OARK,CAAN;AASH;;AAED,UAAMC,EAAE,GAAG,KAAK3D,KAAL,CAAWC,MAAX,CAAkBqD,GAAlB,CAAuB,CAACM,EAAD,EAAKC,KAAL,KAAe;AAE7C,0BAAO,oBAAC,SAAD;AACE,QAAA,UAAU,EAAED,EAAE,CAAC5C,UADjB;AAEE,QAAA,KAAK,EAAE4C,EAAE,CAACE,KAFZ;AAGE,QAAA,GAAG,EAAEF,EAAE,CAACG,GAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AAMH,KARU,CAAX;AAUA,UAAMC,OAAO,gBACT,oBAAC,OAAD;AAAS,MAAA,EAAE,EAAC,eAAZ;AAA4B,MAAA,IAAI,EAAC,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD,CAAS,KAAT;AAAe,MAAA,EAAE,EAAC,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE,oBAAC,OAAD,CAAS,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAJ,CADA,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAJ,CAFA,eAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAJ,CAHA,CADC,CADD,CADJ,EAUKL,EAVL,CADN,CAFF,CADJ;AAuBH;AAAA;AAGG;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAK,QAAA,SAAS,EAAC,IAAf;AAAoB,QAAA,KAAK,EAAE;AAACM,UAAAA,MAAM,EAAC,OAAR;AAAgBC,UAAAA,WAAW,EAAC;AAA5B,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAI,QAAA,KAAK,EAAE;AAACD,UAAAA,MAAM,EAAC,OAAR;AAAiBE,UAAAA,WAAW,EAAC,KAA7B;AAAoCD,UAAAA,WAAW,EAAC;AAAhD,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,eAEA;AAAI,QAAA,KAAK,EAAE;AAACE,UAAAA,SAAS,EAAC;AAAX,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFA,eAGA;AAAK,QAAA,SAAS,EAAC,KAAf;AAAqB,QAAA,KAAK,EAAE;AAACC,UAAAA,UAAU,EAAC,MAAZ;AAAoBC,UAAAA,SAAS,EAAC,IAA9B;AAAmCC,UAAAA,WAAW,EAAC,MAA/C;AAAsDC,UAAAA,YAAY,EAAC;AAAnE,SAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEA;AAAK,QAAA,SAAS,EAAC,0BAAf;AAA0C,QAAA,KAAK,EAAE;AAACP,UAAAA,MAAM,EAAC,OAAR;AAAiBQ,UAAAA,MAAM,EAAC,OAAxB;AAAiCN,UAAAA,WAAW,EAAC,KAA7C;AAAoDD,UAAAA,WAAW,EAAC;AAAhE,SAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAuBKd,GAvBL,CAFA,eA4BA;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAyC,QAAA,KAAK,EAAE;AAACa,UAAAA,MAAM,EAAC,OAAR;AAAiBQ,UAAAA,MAAM,EAAC,OAAxB;AAAiCN,UAAAA,WAAW,EAAC,KAA7C;AAAoDD,UAAAA,WAAW,EAAC;AAAhE,SAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAG,QAAA,KAAK,EAAE;AAAEQ,UAAAA,OAAO,EAAC,IAAV;AAAgBN,UAAAA,SAAS,EAAC;AAA1B,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI;AAAI,QAAA,KAAK,EAAE;AAACH,UAAAA,MAAM,EAAC,OAAR;AAAiBE,UAAAA,WAAW,EAAC,OAA7B;AAAsCD,UAAAA,WAAW,EAAC;AAAlD,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,eAGI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAI,QAAA,KAAK,EAAE;AAACS,UAAAA,KAAK,EAAC;AAAP,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAI,QAAA,KAAK,EAAE;AAACA,UAAAA,KAAK,EAAC,KAAP;AAAaP,UAAAA,SAAS,EAAC;AAAvB,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADA,eAEA;AAAI,QAAA,KAAK,EAAE;AAACO,UAAAA,KAAK,EAAC,KAAP;AAAaP,UAAAA,SAAS,EAAC,MAAvB;AAA+BQ,UAAAA,KAAK,EAAC;AAArC,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA8D3D,YAAY,CAACC,MAA3E,CAFA,CADJ,eAKI;AAAI,QAAA,KAAK,EAAE;AAACyD,UAAAA,KAAK,EAAC;AAAP,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAI,QAAA,KAAK,EAAE;AAACA,UAAAA,KAAK,EAAC,KAAP;AAAaP,UAAAA,SAAS,EAAC;AAAvB,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADA,eAEA;AAAI,QAAA,KAAK,EAAE;AAACO,UAAAA,KAAK,EAAC,KAAP;AAAaP,UAAAA,SAAS,EAAC,MAAvB;AAA+BQ,UAAAA,KAAK,EAAC;AAArC,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFA,CALJ,eASI;AAAI,QAAA,KAAK,EAAE;AAACD,UAAAA,KAAK,EAAC;AAAP,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAI,QAAA,KAAK,EAAE;AAACA,UAAAA,KAAK,EAAC,KAAP;AAAaP,UAAAA,SAAS,EAAC;AAAvB,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,eAEA;AAAI,QAAA,KAAK,EAAE;AAACO,UAAAA,KAAK,EAAC,KAAP;AAAaP,UAAAA,SAAS,EAAC,MAAvB;AAA+BQ,UAAAA,KAAK,EAAC;AAArC,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA0D,oBAAC,IAAD;AAAM,QAAA,QAAQ,EAAE,KAAKvE,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA+B;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,MAAxB;AAA+B,QAAA,KAAK,EAAE,KAAKL,KAAL,CAAWE,IAAjD;AAAuD,QAAA,QAAQ,EAAE,KAAKC,QAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA/B,oBAAkH;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,iBAAhC;AAAkD,QAAA,OAAO,EAAC,WAA1D;AAAsE,QAAA,KAAK,EAAE;AAAEkE,UAAAA,UAAU,EAAC,IAAb;AAAmBQ,UAAAA,UAAU,EAAC;AAA9B,SAA7E;AAAwH,QAAA,OAAO,EAAE,KAAKC,OAAtI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAlH,CAA1D,CAFA,CATJ,eAaI;AAAI,QAAA,KAAK,EAAE;AAACH,UAAAA,KAAK,EAAC;AAAP,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAI,QAAA,KAAK,EAAE;AAACA,UAAAA,KAAK,EAAC,KAAP;AAAaP,UAAAA,SAAS,EAAC;AAAvB,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,eAEA;AAAI,QAAA,KAAK,EAAE;AAACO,UAAAA,KAAK,EAAC,KAAP;AAAaP,UAAAA,SAAS,EAAC;AAAvB,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA2C,oBAAC,cAAD;AAAgB,QAAA,OAAO,EAAC,OAAxB;AAAgC,QAAA,SAAS,EAAC,MAA1C;AAAiD,QAAA,OAAO,EAAEJ,OAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAmE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,iBAAhC;AAAkD,QAAA,OAAO,EAAC,WAA1D;AAAsE,QAAA,KAAK,EAAE;AAAEK,UAAAA,UAAU,EAAC,IAAb;AAAmBQ,UAAAA,UAAU,EAAC;AAA9B,SAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAnE,CAA3C,oBAAoQ;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,iBAAhC;AAAkD,QAAA,OAAO,EAAC,WAA1D;AAAsE,QAAA,KAAK,EAAE;AAAER,UAAAA,UAAU,EAAC,IAAb;AAAmBQ,UAAAA,UAAU,EAAC;AAA9B,SAA7E;AAAwH,QAAA,OAAO,EAAE,KAAK1D,WAAtI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAApQ,CAFA,CAbJ,eAiBI;AAAI,QAAA,KAAK,EAAE;AAACwD,UAAAA,KAAK,EAAC;AAAP,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAI,QAAA,KAAK,EAAE;AAACA,UAAAA,KAAK,EAAC,KAAP;AAAaP,UAAAA,SAAS,EAAC;AAAvB,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADA,eAEA;AAAI,QAAA,KAAK,EAAE;AAACO,UAAAA,KAAK,EAAC,KAAP;AAAaP,UAAAA,SAAS,EAAC,MAAvB;AAA+BQ,UAAAA,KAAK,EAAC;AAArC,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA8D3D,YAAY,CAACC,MAA3E,CAFA,CAjBJ,CADJ,CAHJ,eA2BY;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,iBAAhC;AAAkD,QAAA,OAAO,EAAE,KAAKmB,MAAhE;AAAwE,QAAA,KAAK,EAAE;AAAEwC,UAAAA,UAAU,EAAC,UAAb;AAAyBF,UAAAA,KAAK,EAAC,KAA/B;AAAsCF,UAAAA,MAAM,EAAC;AAA7C,SAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBA3BZ,eA4BY;AAAQ,QAAA,SAAS,EAAC,iBAAlB;AAAoC,QAAA,IAAI,EAAC,QAAzC;AAAkD,QAAA,OAAO,EAAE,KAAKtD,WAAhE;AAA6E,QAAA,OAAO,EAAC,WAArF;AAAiG,QAAA,KAAK,EAAE;AAAE0D,UAAAA,UAAU,EAAC,UAAb;AAAyBF,UAAAA,KAAK,EAAC,KAA/B;AAAsCF,UAAAA,MAAM,EAAC,IAA7C;AAAmDD,UAAAA,YAAY,EAAC;AAAhE,SAAxG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBA5BZ,CA5BA,CAHA;AA1BH;AA0FC;;AApRuB;;AAwR5B,eAAe1E,IAAf","sourcesContent":["import React, {Component} from 'react'\r\nimport axios from 'axios'\r\nimport Cartlist from './Cartlist'\r\nimport Cartlist1 from './Cartlist1'\r\nimport Table from 'react-bootstrap/Table'\r\nimport back1 from './UI/back1.PNG'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\nimport Popover from 'react-bootstrap/Popover'\r\nimport mp7 from './pics/indian/mp1.jpg'\r\nimport { Button, Form, FormGroup, Label, Jumbotron, Input} from 'reactstrap';\r\n\r\n\r\nclass Cart extends Component { \r\n\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            coupon: [],\r\n            code:''\r\n        }\r\n        this.onChange = this.onChange.bind(this)\r\n        this.onSubmit = this.onSubmit.bind(this)\r\n    }\r\n     \r\n     onChange(e){\r\n        this.setState({[e.target.name]: e.target.value})\r\n     }\r\n\r\n     onSubmit(e){\r\n        e.preventDefault()\r\n\r\n         //     console.log(localStorage.amount)\r\n    //     // if(localStorage.amount>100){\r\n    //     // localStorage.amount = localStorage.amount - localStorage.amount*(25/100)\r\n    //     // console.log(localStorage.amount)\r\n    //     // toast(\"Promo code applied\", {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\r\n    //     // }\r\n    //     // else{\r\n    //     //     toast(\"Try another promo code!!\", {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\r\n    //     // }\r\n            console.log(this.state.code)\r\n            for( let i=0; i<this.state.coupon.length; i++){\r\n                if(this.state.coupon[i].couponcode == this.state.code){\r\n                    localStorage.amount = localStorage.amount - localStorage.amount*(this/100)  \r\n                }   \r\n            }\r\n    \r\n\r\n    \r\n     }\r\n\r\n     handleClick() {\r\n        console.log('Button click ...');\r\n        localStorage.removeItem(\"items\");\r\n        localStorage.removeItem(\"category\")\r\n        localStorage.removeItem(\"total\")\r\n        localStorage.removeItem(\"amount\")\r\n        window.location.reload(1000);\r\n      }\r\n\r\n      componentDidMount() {\r\n        console.log(localStorage.amount);\r\n        axios.post('http://localhost:5000/users/getcoupons',\r\n        {\r\n            \"price\": localStorage.amount,\r\n         },\r\n        {\r\n            headers: {\r\n              'auth-token': localStorage.usertoken\r\n           }},\r\n        \r\n            )\r\n            .then(res => {\r\n                console.log(res.data)\r\n                this.setState({coupon: res.data})     \r\n            })\r\n             .catch(err => {\r\n                toast(err, {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\r\n             })\r\n      \r\n      }\r\n\r\n    //   handle1() {\r\n    //     console.log(localStorage.amount)\r\n    //     // if(localStorage.amount>100){\r\n    //     // localStorage.amount = localStorage.amount - localStorage.amount*(25/100)\r\n    //     // console.log(localStorage.amount)\r\n    //     // toast(\"Promo code applied\", {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\r\n    //     // }\r\n    //     // else{\r\n    //     //     toast(\"Try another promo code!!\", {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\r\n    //     // }\r\n    //     // for( const i=0; i<this.state.coupon.length; i++){\r\n            \r\n    //     // }\r\n    //     console.log(this.state.code)\r\n      \r\n    //     }\r\n\r\n     handle() {\r\n        console.log(\"clicked\");\r\n        axios.post('http://localhost:5000/order/add',\r\n        //  axios.post('order/add',\r\n         {\r\n            \"catogary\": localStorage.category,\r\n            \"subcatogary\": localStorage.subcategory,\r\n            \"product\": JSON.parse(localStorage.getItem('items')),\r\n            \"paymentType\": \"cash\",\r\n            \"totalCost\": localStorage.amount\r\n         },\r\n         {\r\n             headers: {\r\n               'auth-token': localStorage.usertoken\r\n             }},\r\n             )\r\n             .then(res => {\r\n                 if(res.data.status==true){\r\n                    toast(res.data.data, {position: toast.POSITION.TOP_CENTER});\r\n                    var interval = setInterval(\r\n                        function()\r\n                        {  \r\n                                console.log(res.data.redirect);\r\n                                axios.get(res.data.redirect)\r\n                                .then(res => {\r\n                                    if(res.data.status==true){\r\n                                       clearInterval(interval);\r\n                                       console.log(res.data.data)\r\n                                    }\r\n                                })\r\n                                .catch(err => {\r\n                                    console.log(\"err\")\r\n                                })\r\n                        }, 30000);\r\n                 }\r\n                 else{\r\n                    toast(res.data.error, {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\r\n                 }\r\n             })\r\n             .catch(err => {\r\n                toast(\"Login First!!\", {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\r\n             })\r\n       }\r\n\r\n   \r\n\r\n     render() {\r\n        toast.configure()\r\n        let arr\r\n        if(localStorage.getItem('items')==undefined){\r\n            // alert('cart is empty!!');\r\n            // toast(\"Cart is empty!!\", {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\r\n        }\r\n        else\r\n        {\r\n            arr = JSON.parse(localStorage.getItem('items')).map( (item, i) => {\r\n\t\r\n                return <Cartlist \r\n                         id={item.itemid}\r\n                         cat={item.quantity}\r\n                         price={item.totalprice} \r\n                    />\r\n           \r\n            } )\r\n        }\r\n\r\n        const ar = this.state.coupon.map( (it, index) => {\r\n\t\r\n            return <Cartlist1\r\n                     couponcode={it.couponcode}\r\n                     price={it.price}\r\n                     off={it.off}\r\n                />\r\n        \r\n        } )\r\n\r\n        const popover = (\r\n            <Popover id=\"popover-basic\" size=\"md\" >\r\n              <Popover.Title as=\"h3\">Available Offers</Popover.Title>\r\n              <Popover.Content>\r\n                    <div>\r\n                        <Table >\r\n                         <tbody>\r\n                        <tr>\r\n                        <td><b>Code</b></td>\r\n                        <td><b>Price</b></td>\r\n                        <td><b>Off</b></td>\r\n                        </tr>\r\n                         </tbody>\r\n                        </Table>\r\n                        {ar}\r\n                    </div>\r\n              </Popover.Content>\r\n            </Popover>\r\n          );\r\n        \r\n        \r\n        \r\n\r\n     return (\r\n        \r\n        \r\n        // <div className=\"re\" style={{border:'solid',borderColor:'white'}}>\r\n        //  <div style={{marginLeft:'0.5%', marginTop:'1%',marginRight:'0.5%',marginBottom:'15%'}}>\r\n        \r\n         \r\n        //  <div style={{border:'solid', borderRadius:'10px',marginLeft:'0.5%',marginRight:'0.5%', backgroundColor:'white'}}>\r\n        //     <Table >\r\n        //          <thead>\r\n        //              <tr style={{width:'90%'}}>\r\n        //              <th style={{width:'30%',textAlign:'center'}}>Item</th>\r\n        //              <th style={{width:'30%',textAlign:'center'}}>quantity</th>\r\n        //              <th style={{width:'30%',textAlign:'center'}}>Price</th>\r\n        //              </tr>\r\n        //          </thead>\r\n        //     </Table>\r\n        //     {arr}\r\n        //     <p style={{textAlign:'right', marginRight:'15%'}}><b>Total Amount : {localStorage.amount}</b></p> \r\n        //  </div>\r\n        //  <div style={{marginLeft:'5%',marginRight:'5%',marginTop:'3%', marginBottom:'18%'}}>\r\n        //  <p><button type=\"button\" className='btn btn-primary' onClick={this.handle} variant=\"secondary\" style={{float:'right', borderRadius:'10px'}}>Place Order</button> <button className='btn btn-primary' type=\"button\" onClick={this.handleClick} variant=\"secondary\" style={{float:'right', borderRadius:'10px', marginRight:'0.5%'}}>Remove</button> <OverlayTrigger trigger=\"click\" placement=\"left\" overlay={popover}><button type=\"button\" className='btn btn-primary'  variant=\"secondary\" style={{float:'right', borderRadius:'10px', marginRight:'0.5%'}}>Promo Code</button></OverlayTrigger></p>\r\n        //  </div>\r\n        //  </div>\r\n        //  </div>\r\n\r\n        <div className=\"re\" style={{border:'solid',borderColor:'white'}}>\r\n        <hr style={{border:'solid', borderWidth:'1px', borderColor:'#9C9C9B'}}/>\r\n        <h5 style={{textAlign:'center'}}>Cart</h5>\r\n        <div className=\"row\" style={{marginLeft:'0.5%', marginTop:'1%',marginRight:'0.5%',marginBottom:'15%'}}>\r\n        {/* <div style={{border:'solid', borderRadius:'10px',marginLeft:'0.5%',marginRight:'0.5%', backgroundColor:'white'}}> */}\r\n        <div className=\"item1 col-md-7 col-sm-14\" style={{border:'solid', margin:'2% 1%', borderWidth:'1px', borderColor:'#9C9C9B'}}>\r\n           {/* <Table >\r\n                 <tbody>\r\n                     <tr style={{width:'90%'}}>\r\n                     <img src={mp7} style={{width:'70%', height:'auto', padding:'5%'}}/>\r\n                     <td style={{width:'22.5%', padding:'8%'}}><b>Misal Pav</b></td>\r\n                     <td style={{width:'22.5%', padding:'8%', color:'green'}}><b>5</b></td>\r\n                     <td style={{width:'22.5%', padding:'8%'}}><b>Rs.500</b></td>\r\n                     </tr>\r\n                     <tr style={{width:'90%'}}>\r\n                     <img src={mp7} style={{width:'70%', height:'auto', padding:'5%'}}/>\r\n                     <td style={{width:'22.5%', padding:'8%'}}><b>Misal Pav</b></td>\r\n                     <td style={{width:'22.5%', padding:'8%', color:'green'}}><b>5</b></td>\r\n                     <td style={{width:'22.5%', padding:'8%'}}><b>Rs.250</b></td>\r\n                     </tr>\r\n                     <tr style={{width:'90%'}}>\r\n                     <img src={mp7} style={{width:'70%', height:'auto', padding:'5%'}}/>\r\n                     <td style={{width:'22.5%', padding:'8%'}}><b>Misal Pav</b></td>\r\n                     <td style={{width:'22.5%', padding:'8%', color:'green'}}><b>5</b></td>\r\n                     <td style={{width:'22.5%', padding:'8%'}}><b>Rs.250</b></td>\r\n                     </tr>\r\n                 </tbody>\r\n           </Table> */}\r\n            {arr}\r\n           {/* <p style={{textAlign:'right', marginRight:'15%'}}><b>Total Amount : {localStorage.amount}</b></p>  */}\r\n        </div>\r\n        <div className=\"item1 col-md-4 col-sm-8\" style={{border:'solid', margin:'2% 1%', borderWidth:'1px', borderColor:'#9C9C9B'}}>\r\n            <p style={{ padding:'3%', textAlign:'left'}}>Order Summary</p>\r\n            <hr style={{border:'solid', borderWidth:'0.5px', borderColor:'#000'}}/>\r\n            <Table >\r\n                <tbody>\r\n                    <tr style={{width:'90%'}}>\r\n                    <td style={{width:'30%',textAlign:'left'}}>Items</td>\r\n                    <td style={{width:'30%',textAlign:'left', color:'green'}}>Rs.{localStorage.amount}</td>\r\n                    </tr>\r\n                    <tr style={{width:'90%'}}>\r\n                    <td style={{width:'30%',textAlign:'left'}}>Shipping</td>\r\n                    <td style={{width:'30%',textAlign:'left', color:'green'}}>Rs.0</td>\r\n                    </tr>\r\n                    <tr style={{width:'90%'}}>\r\n                    <td style={{width:'30%',textAlign:'left'}}>Promo Code</td>\r\n                    <td style={{width:'30%',textAlign:'left', color:'green'}}><Form onSubmit={this.onSubmit}><input type=\"text\" name=\"code\" value={this.state.code} onChange={this.onChange} /> <button type=\"submit\" className='btn btn-primary' variant=\"secondary\" style={{ marginLeft:'0%', background:'##779A25'}} onClick={this.handle1}>Apply</button></Form></td>\r\n                    </tr>\r\n                    <tr style={{width:'90%'}}>\r\n                    <td style={{width:'30%',textAlign:'left'}}></td>\r\n                    <td style={{width:'30%',textAlign:'left'}}><OverlayTrigger trigger=\"click\" placement=\"left\" overlay={popover}><button type=\"button\" className='btn btn-primary' variant=\"secondary\" style={{ marginLeft:'0%', background:'##779A25'}}>Get</button></OverlayTrigger> <button type=\"button\" className='btn btn-primary' variant=\"secondary\" style={{ marginLeft:'0%', background:'##779A25'}} onClick={this.handleClick}>Remove</button></td>\r\n                    </tr>\r\n                    <tr style={{width:'90%'}}>\r\n                    <td style={{width:'30%',textAlign:'left'}}>Total Amount</td>\r\n                    <td style={{width:'30%',textAlign:'left', color:'green'}}>Rs.{localStorage.amount}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </Table>\r\n                    <button type=\"button\" className='btn btn-primary' onClick={this.handle} style={{ background:'##779A25', width:'80%', margin:'1%'}}>Place Order</button> \r\n                    <button className='btn btn-primary' type=\"button\" onClick={this.handleClick} variant=\"secondary\" style={{ background:'##779A25', width:'80%', margin:'2%', marginBottom:'5%'}}>Remove</button>\r\n        </div>\r\n        </div>\r\n        </div>\r\n     )\r\n     }\r\n }\r\n  \r\n\r\n export default Cart;\r\n"]},"metadata":{},"sourceType":"module"}