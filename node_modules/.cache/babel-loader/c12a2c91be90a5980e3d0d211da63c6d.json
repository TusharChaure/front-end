{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chaur\\\\Desktop\\\\homechef-mern-new\\\\homechef\\\\front-end\\\\src\\\\Cart.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Cartlist from './Cartlist';\nimport Table from 'react-bootstrap/Table';\nimport back1 from './UI/back1.PNG';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Popover from 'react-bootstrap/Popover';\n\nclass Cart extends Component {\n  handleClick() {\n    console.log('Button click ...');\n    localStorage.removeItem(\"items\");\n    localStorage.removeItem(\"category\");\n    localStorage.removeItem(\"total\");\n    localStorage.removeItem(\"amount\");\n    window.location.reload(1000);\n  }\n\n  handle1() {\n    console.log(localStorage.amount);\n\n    if (localStorage.amount > 100) {\n      localStorage.amount = localStorage.amount - localStorage.amount * (25 / 100);\n      console.log(localStorage.amount);\n      toast(\"Promo code applied\", {\n        position: toast.POSITION.TOP_CENTER,\n        autoClose: 1000\n      });\n    } else {\n      toast(\"Try another promo code!!\", {\n        position: toast.POSITION.TOP_CENTER,\n        autoClose: 1000\n      });\n    }\n  }\n\n  handle() {\n    console.log(\"clicked\");\n    axios.post('http://localhost:5000/order/add', //  axios.post('order/add',\n    {\n      \"catogary\": localStorage.category,\n      \"subcatogary\": localStorage.subcategory,\n      \"product\": JSON.parse(localStorage.getItem('items')),\n      \"paymentType\": \"cash\",\n      \"totalCost\": localStorage.amount\n    }, {\n      headers: {\n        'auth-token': localStorage.usertoken\n      }\n    }).then(res => {\n      if (res.data.status == true) {\n        toast(res.data.data, {\n          position: toast.POSITION.TOP_CENTER\n        });\n        var interval = setInterval(function () {\n          console.log(res.data.redirect);\n          axios.get(res.data.redirect).then(res => {\n            if (res.data.status == true) {\n              clearInterval(interval);\n              console.log(res.data.data);\n            }\n          }).catch(err => {\n            console.log(\"err\");\n          });\n        }, 30000);\n      } else {\n        alert(res.data.error);\n      }\n    }).catch(err => {\n      console.log(\"err\");\n    });\n  }\n\n  render() {\n    toast.configure();\n    let arr;\n\n    if (localStorage.getItem('items') == undefined) {// alert('cart is empty!!');\n      // toast(\"Cart is empty!!\", {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\n    } else {\n      arr = JSON.parse(localStorage.getItem('items')).map((item, i) => {\n        return /*#__PURE__*/React.createElement(Cartlist, {\n          id: item.itemid,\n          cat: item.quantity,\n          price: item.totalprice,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 24\n          }\n        });\n      });\n    }\n\n    const popover = /*#__PURE__*/React.createElement(Popover, {\n      id: \"popover-basic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Popover.Title, {\n      as: \"h3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }, \"Available Offers\"), /*#__PURE__*/React.createElement(Popover.Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, \"50% off on first 3 order \", /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary\",\n      variant: \"secondary\",\n      style: {\n        borderRadius: '10px',\n        marginLeft: '0%'\n      },\n      onClick: this.handle1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 49\n      }\n    }, \"Apply\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 21\n      }\n    }, \"(Applicable for order amount greater than Rs.100)\")));\n    return (\n      /*#__PURE__*/\n      // <div className=\"re\" style={{border:'solid',borderColor:'white'}}>\n      //  <div style={{marginLeft:'0.5%', marginTop:'1%',marginRight:'0.5%',marginBottom:'15%'}}>\n      //  <div style={{border:'solid', borderRadius:'10px',marginLeft:'0.5%',marginRight:'0.5%', backgroundColor:'white'}}>\n      //     <Table >\n      //          <thead>\n      //              <tr style={{width:'90%'}}>\n      //              <th style={{width:'30%',textAlign:'center'}}>Item</th>\n      //              <th style={{width:'30%',textAlign:'center'}}>quantity</th>\n      //              <th style={{width:'30%',textAlign:'center'}}>Price</th>\n      //              </tr>\n      //          </thead>\n      //     </Table>\n      //     {arr}\n      //     <p style={{textAlign:'right', marginRight:'15%'}}><b>Total Amount : {localStorage.amount}</b></p> \n      //  </div>\n      //  <div style={{marginLeft:'5%',marginRight:'5%',marginTop:'3%', marginBottom:'18%'}}>\n      //  <p><button type=\"button\" className='btn btn-primary' onClick={this.handle} variant=\"secondary\" style={{float:'right', borderRadius:'10px'}}>Place Order</button> <button className='btn btn-primary' type=\"button\" onClick={this.handleClick} variant=\"secondary\" style={{float:'right', borderRadius:'10px', marginRight:'0.5%'}}>Remove</button> <OverlayTrigger trigger=\"click\" placement=\"left\" overlay={popover}><button type=\"button\" className='btn btn-primary'  variant=\"secondary\" style={{float:'right', borderRadius:'10px', marginRight:'0.5%'}}>Promo Code</button></OverlayTrigger></p>\n      //  </div>\n      //  </div>\n      //  </div>\n      React.createElement(\"div\", {\n        className: \"re\",\n        style: {\n          border: 'solid',\n          borderColor: 'white'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        style: {\n          marginLeft: '0.5%',\n          marginTop: '1%',\n          marginRight: '0.5%',\n          marginBottom: '15%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-7 col-sm-14\",\n        style: {\n          border: 'solid',\n          margin: '3% 3%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        style: {\n          width: '90%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        style: {\n          width: '30%',\n          textAlign: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }\n      }, \"Item\"), /*#__PURE__*/React.createElement(\"th\", {\n        style: {\n          width: '30%',\n          textAlign: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }\n      }, \"quantity\"), /*#__PURE__*/React.createElement(\"th\", {\n        style: {\n          width: '30%',\n          textAlign: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }\n      }, \"Price\")))), arr, /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          textAlign: 'right',\n          marginRight: '15%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 62\n        }\n      }, \"Total Amount : \", localStorage.amount))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-8\",\n        style: {\n          border: 'solid',\n          margin: '3% 3%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        style: {\n          width: '90%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        style: {\n          width: '30%',\n          textAlign: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }\n      }, \"Item\"), /*#__PURE__*/React.createElement(\"th\", {\n        style: {\n          width: '30%',\n          textAlign: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }\n      }, \"quantity\")))), arr, /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          textAlign: 'right',\n          marginRight: '15%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 62\n        }\n      }, \"Total Amount : \", localStorage.amount)))))\n    );\n  }\n\n}\n\nexport default Cart;","map":{"version":3,"sources":["C:/Users/chaur/Desktop/homechef-mern-new/homechef/front-end/src/Cart.js"],"names":["React","Component","axios","Cartlist","Table","back1","ToastContainer","toast","OverlayTrigger","Popover","Cart","handleClick","console","log","localStorage","removeItem","window","location","reload","handle1","amount","position","POSITION","TOP_CENTER","autoClose","handle","post","category","subcategory","JSON","parse","getItem","headers","usertoken","then","res","data","status","interval","setInterval","redirect","get","clearInterval","catch","err","alert","error","render","configure","arr","undefined","map","item","i","itemid","quantity","totalprice","popover","borderRadius","marginLeft","border","borderColor","marginTop","marginRight","marginBottom","margin","width","textAlign"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\nimport axios from 'axios'\r\nimport Cartlist from './Cartlist'\r\nimport Table from 'react-bootstrap/Table'\r\nimport back1 from './UI/back1.PNG'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\nimport Popover from 'react-bootstrap/Popover'\r\n\r\n\r\nclass Cart extends Component { \r\n     \r\n     handleClick() {\r\n        console.log('Button click ...');\r\n        localStorage.removeItem(\"items\");\r\n        localStorage.removeItem(\"category\")\r\n        localStorage.removeItem(\"total\")\r\n        localStorage.removeItem(\"amount\")\r\n        window.location.reload(1000);\r\n      }\r\n\r\n      handle1() {\r\n        console.log(localStorage.amount)\r\n        if(localStorage.amount>100){\r\n        localStorage.amount = localStorage.amount - localStorage.amount*(25/100)\r\n        console.log(localStorage.amount)\r\n        toast(\"Promo code applied\", {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\r\n        }\r\n        else{\r\n            toast(\"Try another promo code!!\", {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\r\n        }\r\n      }\r\n\r\n     handle() {\r\n         console.log(\"clicked\");\r\n        axios.post('http://localhost:5000/order/add',\r\n        //  axios.post('order/add',\r\n         {\r\n            \"catogary\": localStorage.category,\r\n            \"subcatogary\": localStorage.subcategory,\r\n            \"product\": JSON.parse(localStorage.getItem('items')),\r\n            \"paymentType\": \"cash\",\r\n            \"totalCost\": localStorage.amount\r\n         },\r\n         {\r\n             headers: {\r\n               'auth-token': localStorage.usertoken\r\n             }},\r\n             )\r\n             .then(res => {\r\n                 if(res.data.status==true){\r\n                    toast(res.data.data, {position: toast.POSITION.TOP_CENTER});\r\n                    var interval = setInterval(\r\n                        function()\r\n                        {  \r\n                                console.log(res.data.redirect);\r\n                                axios.get(res.data.redirect)\r\n                                .then(res => {\r\n                                    if(res.data.status==true){\r\n                                       clearInterval(interval);\r\n                                       console.log(res.data.data)\r\n                                    }\r\n                                })\r\n                                .catch(err => {\r\n                                    console.log(\"err\")\r\n                                })\r\n                        }, 30000);\r\n                 }\r\n                 else{\r\n                     alert(res.data.error)\r\n                 }\r\n             })\r\n             .catch(err => {\r\n                 console.log(\"err\")\r\n             })\r\n       }\r\n\r\n   \r\n\r\n     render() {\r\n        toast.configure()\r\n        let arr\r\n        if(localStorage.getItem('items')==undefined){\r\n            // alert('cart is empty!!');\r\n            // toast(\"Cart is empty!!\", {position: toast.POSITION.TOP_CENTER, autoClose: 1000});\r\n        }\r\n        else\r\n        {\r\n            arr = JSON.parse(localStorage.getItem('items')).map( (item, i) => {\r\n\t\r\n                return <Cartlist \r\n                         id={item.itemid}\r\n                         cat={item.quantity}\r\n                         price={item.totalprice} \r\n                    />\r\n           \r\n            } )\r\n        }\r\n\r\n        const popover = (\r\n            <Popover id=\"popover-basic\" >\r\n              <Popover.Title as=\"h3\">Available Offers</Popover.Title>\r\n              <Popover.Content>\r\n                    <p>50% off on first 3 order <button type=\"button\" className='btn btn-primary' variant=\"secondary\" style={{ borderRadius:'10px', marginLeft:'0%'}} onClick={this.handle1}>Apply</button></p>\r\n                    <p>(Applicable for order amount greater than Rs.100)</p>\r\n              </Popover.Content>\r\n            </Popover>\r\n          );\r\n        \r\n        \r\n        \r\n\r\n     return (\r\n        \r\n        \r\n        // <div className=\"re\" style={{border:'solid',borderColor:'white'}}>\r\n        //  <div style={{marginLeft:'0.5%', marginTop:'1%',marginRight:'0.5%',marginBottom:'15%'}}>\r\n        \r\n         \r\n        //  <div style={{border:'solid', borderRadius:'10px',marginLeft:'0.5%',marginRight:'0.5%', backgroundColor:'white'}}>\r\n        //     <Table >\r\n        //          <thead>\r\n        //              <tr style={{width:'90%'}}>\r\n        //              <th style={{width:'30%',textAlign:'center'}}>Item</th>\r\n        //              <th style={{width:'30%',textAlign:'center'}}>quantity</th>\r\n        //              <th style={{width:'30%',textAlign:'center'}}>Price</th>\r\n        //              </tr>\r\n        //          </thead>\r\n        //     </Table>\r\n        //     {arr}\r\n        //     <p style={{textAlign:'right', marginRight:'15%'}}><b>Total Amount : {localStorage.amount}</b></p> \r\n        //  </div>\r\n        //  <div style={{marginLeft:'5%',marginRight:'5%',marginTop:'3%', marginBottom:'18%'}}>\r\n        //  <p><button type=\"button\" className='btn btn-primary' onClick={this.handle} variant=\"secondary\" style={{float:'right', borderRadius:'10px'}}>Place Order</button> <button className='btn btn-primary' type=\"button\" onClick={this.handleClick} variant=\"secondary\" style={{float:'right', borderRadius:'10px', marginRight:'0.5%'}}>Remove</button> <OverlayTrigger trigger=\"click\" placement=\"left\" overlay={popover}><button type=\"button\" className='btn btn-primary'  variant=\"secondary\" style={{float:'right', borderRadius:'10px', marginRight:'0.5%'}}>Promo Code</button></OverlayTrigger></p>\r\n        //  </div>\r\n        //  </div>\r\n        //  </div>\r\n\r\n        <div className=\"re\" style={{border:'solid',borderColor:'white'}}>\r\n        <div className=\"row\" style={{marginLeft:'0.5%', marginTop:'1%',marginRight:'0.5%',marginBottom:'15%'}}>\r\n       \r\n        \r\n        {/* <div style={{border:'solid', borderRadius:'10px',marginLeft:'0.5%',marginRight:'0.5%', backgroundColor:'white'}}> */}\r\n        <div className=\"col-md-7 col-sm-14\" style={{border:'solid', margin:'3% 3%'}}>\r\n           <Table >\r\n                <thead>\r\n                    <tr style={{width:'90%'}}>\r\n                    <th style={{width:'30%',textAlign:'center'}}>Item</th>\r\n                    <th style={{width:'30%',textAlign:'center'}}>quantity</th>\r\n                    <th style={{width:'30%',textAlign:'center'}}>Price</th>\r\n                    </tr>\r\n                </thead>\r\n           </Table>\r\n           {arr}\r\n           <p style={{textAlign:'right', marginRight:'15%'}}><b>Total Amount : {localStorage.amount}</b></p> \r\n        </div>\r\n        <div className=\"col-md-4 col-sm-8\" style={{border:'solid', margin:'3% 3%'}}>\r\n           <Table >\r\n                <thead>\r\n                    <tr style={{width:'90%'}}>\r\n                    <th style={{width:'30%',textAlign:'center'}}>Item</th>\r\n                    <th style={{width:'30%',textAlign:'center'}}>quantity</th>\r\n                    </tr>\r\n                </thead>\r\n           </Table>\r\n           {arr}\r\n           <p style={{textAlign:'right', marginRight:'15%'}}><b>Total Amount : {localStorage.amount}</b></p> \r\n        </div>\r\n        {/* <div style={{marginLeft:'5%',marginRight:'5%',marginTop:'3%', marginBottom:'18%'}}>\r\n        <p><button type=\"button\" className='btn btn-primary' onClick={this.handle} variant=\"secondary\" style={{float:'right', borderRadius:'10px'}}>Place Order</button> <button className='btn btn-primary' type=\"button\" onClick={this.handleClick} variant=\"secondary\" style={{float:'right', borderRadius:'10px', marginRight:'0.5%'}}>Remove</button> <OverlayTrigger trigger=\"click\" placement=\"left\" overlay={popover}><button type=\"button\" className='btn btn-primary'  variant=\"secondary\" style={{float:'right', borderRadius:'10px', marginRight:'0.5%'}}>Promo Code</button></OverlayTrigger></p>\r\n        </div> */}\r\n        </div>\r\n        </div>\r\n     )\r\n     }\r\n }\r\n  \r\n\r\n export default Cart;\r\n"]},"metadata":{},"sourceType":"module"}